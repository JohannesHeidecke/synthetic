{% extends "base.html" %}
{% block title %}DRMap{% endblock %}
{% block js %}<script src="/static/drmap.js" type="text/javascript" ></script>{% endblock %}
{% block content %}

<div style="float:left">
<form action="/lab/" method="post" enctype="multipart/form-data">{% csrf_token %}

<input type="submit" value="Run Simulation" />

<h3>Link Probability Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
{% for col in type_list %}
    <tr>
     	<td>{{ col }}</td>
    {% for row in type_list %}
        <td><input name="link_cell_{{ row }}_{{ col }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
{% endfor %}
</tbody>
</table>

<br />
<h3>Random Probability Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
{% for col in type_list %}
    <tr>
     	<td>{{ col }}</td>
    {% for row in type_list %}
        <td><input name="random_cell_{{ row }}_{{ col }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
{% endfor %}
</tbody>
</table>

<br />
<h3>Follow Probability Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
{% for col in type_list %}
    <tr>
     	<td>{{ col }}</td>
    {% for row in type_list %}
        <td><input name="follow_cell_{{ row }}_{{ col }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
{% endfor %}
</tbody>
</table>

<br />
<h3>Reverse Follow Probability Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
{% for col in type_list %}
    <tr>
     	<td>{{ col }}</td>
    {% for row in type_list %}
        <td><input name="rfollow_cell_{{ row }}_{{ col }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
{% endfor %}
</tbody>
</table>

<br />
<h3>Weight Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
    <tr>
     	<td>&nbsp;</td>
    {% for row in type_list %}
        <td><input name="weight_cell_{{ row }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
</tbody>
</table>

<br />
<h3>Stop Matrix</h3>
<table>
    <thead>
    	<tr>
        	<th scope="col">&nbsp;</th>
        {% for col in type_list %}
            <th scope="col">{{ col }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
    <tr>
     	<td>&nbsp;</td>
    {% for row in type_list %}
        <td><input name="stop_cell_{{ row }}" type="text" size="4" value="0" /></td>
    {% endfor %}
    </tr>
</tbody>
</table>

<br />
<input type="submit" value="Run Simulation" />

</form>
</div>


<div style="float:right; width:300px;">
<canvas id="drmap_canvas" width="300" height="300">
Sorry, your browser does not support canvas.
</canvas>
</div>


<script language="javascript">

var vals = [{{ map_data }}];
var bins = {{ bins }};

drawDRMap(vals, bins, 'drmap_canvas');

</script>

{% endblock %}
